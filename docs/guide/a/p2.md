# 事件轮询

JavaScript 是单线程语言，为了处理异步任务，采用了事件轮询机制，当异步任务完成后，其回调函数会被放入相应的任务队列中，微任务队列和宏任务队列，事件轮询 在调用栈清空后，会把任务队列中的回调函数推入调用栈中执行，其中微任务的优先级高于宏任务，会在宏任务结束后优先执行所有的微任务，然后再执行宏任务，如此循环。



在事件循环中，JavaScript 将任务分为**宏任务（Macro Task）** 和 **微任务（Micro Task）** 两类：

- **宏任务**包括：
`script` 整体代码、`setTimeout`、`setInterval`、`I/O` 操作、`UI 渲染` 等。

 - **微任务**包括：
 `Promise.then` / `.catch` / `.finally`、`queueMicrotask`、`MutationObserver` 等。