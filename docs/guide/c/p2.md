 
# 函数柯里化
> 函数柯里化（Currying）是一种函数式编程中的技术，它将一个接受多个参数的函数转换成一系列接受单个参数的函数。换句话说，**`柯里化是一个将多参数函数转化为一系列单参数函数的过程`**。


## 一、什么是函数柯里化？

举个例子：

```javascript
function add(a, b, c) {
  return a + b + c;
}
```

这个函数接受三个参数。使用柯里化后，可以变成这样：

```javascript
const curriedAdd = curry(add);

curriedAdd(1)(2)(3); // 6
```

或者：

```javascript
curriedAdd(1)(2)(3); // 等价于 add(1, 2, 3)
```

---

## 二、柯里化的实现原理

我们可以手动写一个通用的 `curry` 函数来实现柯里化：

```javascript
const curry = (fn) => {
  return (...args) => {
    if (args.length >= fn.length) return fn(...args);
    else return (...args2) => curry(fn)(...args, ...args2);
  };
};
```

### 示例：

```javascript
function sum(a, b, c) {
  return a + b + c;
}

const curriedSum = curry(sum);

console.log(curriedSum(1)(2)(3)); // 6
console.log(curriedSum(1, 2)(3)); // 6
console.log(curriedSum(1)(2, 3)); // 6
```

---

## 三、柯里化的作用和优势

1. **参数复用**：
   - 柯里化允许你提前传入部分参数，生成一个新函数。
   - 这样可以避免重复传参。

   ```javascript
   const add = (a, b) => a + b;
   const add10 = curry(add)(10);
   console.log(add10(5)); // 15
   ```

2. **提高函数可组合性**：
   - 在函数式编程中，柯里化使得函数更容易组合。

3. **延迟执行**：
   - 参数可以分多次传入，最终执行时才计算结果。

4. **增强代码可读性和表达力**：
   - 可以写出更具语义的链式调用。

---

## 四、可能的问题点

### 1. 手写一个柯里化函数
- 要求你能写出上面提到的 `curry` 函数。
- 注意处理 `this` 的绑定。
- 考察对闭包、递归的理解。

### 2. 柯里化与偏函数的区别？
| 特征 | 柯里化 | 偏函数 |
|------|--------|---------|
| 目标 | 多参数函数 → 单参数函数链 | 固定部分参数，返回新函数 |
| 参数顺序 | 从左到右依次传入 | 可固定任意位置参数 |
| 实现方式 | 通常通过递归或闭包 | 使用 bind 或封装 |

### 3. 柯里化在实际开发中的应用
- React 中的事件处理函数优化
- 工具函数库如 Lodash 中的 `_.curry`
- 高阶组件（HOC）设计思想类似柯里化

---

## 五、扩展：自动柯里化工具函数（Lodash）

```javascript
const _ = require('lodash');

const add = _.curry(function(a, b, c) {
  return a + b + c;
});

add(1)(2)(3); // 6
```

---

## 六、总结一句话

> **函数柯里化是把一个多参数函数拆分成一系列单参数函数的技术，目的是让函数更灵活、更易于复用和组合。**
