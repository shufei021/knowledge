# Vue 组件通信方式

## 父子组件通信
- **Props + Events**  
  - 父 → 子：通过 `props` 传递数据  
  - 子 → 父：通过 `$emit` 触发事件  
  - 原则：遵循单向数据流

- **v-model**  
  - 语法糖：`modelValue` prop + `update:modelValue` 事件  
  - Vue 3 支持多个 v-model

- **Ref**  
  - 父组件通过 `ref` 访问子组件实例方法/数据

## 跨层级通信
- **Provide/Inject**  
  - 祖先 → 后代：`provide` 提供数据，`inject` 注入  
  - Vue 3 需手动保持响应式（提供 `ref`/`reactive`）

- **事件总线**  
  - Vue 2: 新建 Vue 实例作为 EventBus  
  - Vue 3: 推荐使用 [mitt](https://github.com/developit/mitt) 库

## 全局状态管理
- **Pinia** (推荐)  
  - Vue 3 官方推荐的状态管理库  
  - 支持 TypeScript 和 Composition API

- **Vuex**  
  - Vue 2 的标准方案  
  - Vue 3 仍兼容但不再推荐

## 特殊场景方案
- **共享父组件状态**  
  - 通过 `$parent` 访问（不推荐，破坏封装性）  
  - 更好的方案：提升状态到父组件 + props 传递

- **本地存储通信**  
  - 通过 `localStorage` + `storage` 事件实现跨标签页通信
